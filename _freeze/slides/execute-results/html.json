{
  "hash": "1bc1b6b4da47323be04728f76fab03c9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Initiation √† l'analyse des donn√©es avec R\"\nsubtitle: \"Formation th√©orique | 9h √† 12h\"\nauthor: \"√âtienne Proulx\"\ndate: today\ndate-format: \"D MMMM YYYY\"\nlang: fr\nformat:\n  revealjs:\n    theme: simple\n    logo: https://upload.wikimedia.org/wikipedia/en/thumb/9/90/Ulaval_Shield.svg/800px-Ulaval_Shield.svg.png\n    footer: \"[Facult√© des sciences sociales](https://www.fss.ulaval.ca)\"\n    transition: slide\n    transition-speed: fast\n    code-fold: false\n    code-overflow: wrap\n    code-copy: true\n    incremental: false\n    slide-number: true\n    show-slide-number: all\n\nexecute:\n  echo: true\n  eval: true\n  warning: false\n  message: false\n---\n\n\n\n\n\n\n## Objectifs de l'atelier {.smaller}\n\n- Introduire R pour l'analyse de donn√©es\n  - Interface RStudio et console\n  - Les objets et types de donn√©es\n  - Les fonctions et packages\n  - Import et manipulation de donn√©es\n  - Analyse descriptive et graphiques\n\n> Le but est que vous puissiez sortir d'ici avec une compr√©hension de base de R et que vous soyez capable d'aller chercher des ressources pour continuer √† apprendre.\n\n---\n\n## Qu'est-ce que R ? {.smaller}\n\n::: {.columns}\n::: {.column width=\"50%\"}\n**R c'est :**\n\n- Un langage de programmation pour l'analyse de donn√©es\n- Gratuit et open-source\n- Une communaut√© active mondiale\n- Plus de 21,000 packages sp√©cialis√©s\n\n:::\n\n::: {.column width=\"50%\"}\n**Pourquoi l'utiliser ?**\n\n- Adapt√© aux sciences sociales\n- Analyses reproductibles et transparentes\n- Visualisations de qualit√© professionnelle\n- Comp√©tence recherch√©e en recherche et industrie\n\n:::\n:::\n\n<br>\n\n> Aujourd'hui nous allons apprendre les bases pour analyser de vraies donn√©es\n\n---\n\n## Pourquoi R en sciences sociales ? {.smaller background-color=\"#2C5F77\"}\n\n![](https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/R_logo.svg/1024px-R_logo.svg.png){.absolute top=0 left=900 width=\"20%\"}\n\n::: {style=\"color: white;\"}\n\n**R est utilis√© dans la vraie vie :**\n\n::: {.columns}\n::: {.column width=\"50%\"}\n**Organisations :**\n\n- [AirBnB](https://medium.com/airbnb-engineering/using-r-packages-and-education-to-scale-data-science-at-airbnb-906faa58e12d) - analyse de donn√©es\n- [BBC](https://bbc.github.io/rcookbook/) - graphiques journalistiques\n- Google, Facebook, Amazon - data science\n\n:::\n\n::: {.column width=\"50%\"}\n**Recherche au Qu√©bec :**\n\n- [Vox Pop Labs](https://github.com/voxpoplabs) (Boussole √©lectorale)\n- CLESSN (Universit√© Laval)\n- Nombreux chercheurs en sciences sociales\n\n:::\n:::\n:::\n\n---\n\n## Visualisations avanc√©es avec R {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: white;\"}\n\n**Suivi quotidien des intentions de vote - √âlections f√©d√©rales 2025**\n\n:::\n\n![](https://github.com/clessn/agregateur_data/blob/main/img/daily_gif_fr.gif?raw=true){fig-align=\"center\" width=\"80%\"}\n\n::: {.callout-note}\nAnimation g√©n√©r√©e automatiquement chaque jour avec R - Centre d'analyse des politiques publiques\n:::\n\n---\n\n## Au-del√† des chiffres {.smaller background-color=\"#2C5F77\"}\n\n::: {style=\"color: white;\"}\n\n**R s'adapte √† tous types de donn√©es**\n\n::: {.columns}\n::: {.column width=\"50%\"}\n**Texte :**\n\n- Analyse de sentiment\n- Classification de documents\n- Transcription audio\n- Extraction d'informations\n\n:::\n\n::: {.column width=\"50%\"}\n**Multim√©dia :**\n\n- Analyse d'images\n- Cr√©ation de vid√©os\n- Infographies automatis√©es\n- Pr√©sentations interactives\n\n:::\n:::\n:::\n\n---\n\n## Applications web interactives avec Shiny {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: white;\"}\n\n**Explorez vos donn√©es de mani√®re interactive**\n\n:::\n\n[![](images/shiny.png){width=\"80%\"}](https://nz-stefan.shinyapps.io/commute-explorer-2/)\n\n::: {.callout-tip}\nCliquez sur l'image pour voir l'[application en action](https://nz-stefan.shinyapps.io/commute-explorer-2/)\n:::\n\n---\n\n## Applications Shiny : possibilit√©s infinies {.smaller background-color=\"#5B4E77\"}\n\n::: {style=\"color: white;\"}\n\n**Transformez vos analyses en outils accessibles**\n**Exemples d'utilisation :**\n\n- Tableaux de bord de suivi\n- Explorateurs de donn√©es interactifs\n- Outils de collecte de donn√©es\n- Simulateurs et calculateurs\n- Rapports personnalis√©s\n\n::: {.callout-note}\nAucune connaissance en d√©veloppement web n√©cessaire\n:::\n:::\n\n---\n\n## Et apr√®s R ? {.smaller background-color=\"#2C5F77\"}\n\n::: {style=\"color: white;\"}\n\n**Apprendre R ouvre la porte √† d'autres langages**\n\nLes concepts appris en R se transf√®rent facilement :\n\n::: {.columns}\n::: {.column width=\"50%\"}\n**Analyse de donn√©es :**\n\n- Python (data science)\n- Julia (calcul scientifique)\n- SQL (bases de donn√©es)\n\n:::\n\n::: {.column width=\"50%\"}\n**D√©veloppement :**\n\n- JavaScript (web interactif)\n- HTML/CSS (pr√©sentation)\n- Bash (automatisation)\n\n:::\n:::\n\n::: {.callout-note}\nUne fois qu'on ma√Ætrise un langage de programmation, les autres deviennent beaucoup plus faciles √† apprendre\n:::\n:::\n\n---\n\n## Installer R et RStudio {.smaller}\n\n::: {.columns}\n::: {.column width=\"50%\"}\n**Quelle est la diff√©rence ?**\n\n- R est le moteur, RStudio est le v√©hicule\n- R est le langage, RStudio est la feuille de papier\n- RStudio facilite l'utilisation de R\n- RStudio est un IDE (Integrated Development Environment)\n- Personnalisation de l'environnement de travail\n:::\n\n::: {.column width=\"50%\"}\n**Liens de t√©l√©chargement :**\n\n- [Installer R](https://cran.r-project.org/)\n- [Installer RStudio](https://www.rstudio.com/products/rstudio/download/)\n:::\n:::\n\n---\n\n## Avant de commencer √† coder : RStudio {.smaller}\n\n![](images/rstudio.png){.absolute top=\"100\" left=\"0\" width=\"100%\" height=\"80%\"}\n\n::: {.absolute top=\"250\" left=\"80\" style=\"background-color: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px; max-width: 280px;\"}\n**Script**  \nO√π on √©crit notre code\n:::\n\n::: {.absolute top=\"200\" left=\"600\" style=\"background-color: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px; max-width: 280px;\"}\n**Environment**  \nNos objets et donn√©es\n:::\n\n::: {.absolute top=\"500\" left=\"80\" style=\"background-color: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px; max-width: 280px;\"}\n**Console**  \nO√π s'ex√©cutent les commandes\n:::\n\n::: {.absolute top=\"450\" left=\"600\" style=\"background-color: rgba(255,255,255,0.9); padding: 15px; border-radius: 10px; max-width: 280px;\"}\n**Files/Plots**  \nFichiers et graphiques\n:::\n\n---\n\n## R comme calculatrice {.smaller}\n\n::: {.callout-tip}\n## √Ä tester dans la console\n:::\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Op√©rations de base\n2 + 3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5\n```\n\n\n:::\n\n```{.r .cell-code}\n10 * 5\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 50\n```\n\n\n:::\n\n```{.r .cell-code}\n15 / 3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5\n```\n\n\n:::\n\n```{.r .cell-code}\nsqrt(16)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Un peu plus complexe\n(10 + 5) * 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 30\n```\n\n\n:::\n\n```{.r .cell-code}\n2^3  # puissance\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n:::\n\n\n\n:::\n\n\n---\n\n## Cr√©er nos premiers objets {.smaller}\n\nEn R, on sauvegarde tout dans des **objets** avec `<-`\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cr√©er des objets simples\nfilm_prefere <- \"Dune\"\nannee_sortie <- 2021\nnote_imdb <- 8.0\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Voir le contenu des objets\nfilm_prefere\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dune\"\n```\n\n\n:::\n\n```{.r .cell-code}\nannee_sortie\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2021\n```\n\n\n:::\n\n```{.r .cell-code}\nnote_imdb\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n:::\n\n\n\n\n::: {.callout-note}\n**Important :** Les objets apparaissent dans le panneau Environment de RStudio !\n:::\n\n---\n\n## Les vecteurs : groupes de valeurs\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cr√©er des vecteurs avec la fonction c()\nfilms <- c(\"Dune\", \"Oppenheimer\", \"Barbie\", \"The Zone of Interest\", \"Killers of the Flower Moon\")\nannees <- c(2021, 2023, 2023, 2023, 2023)\nnotes_imdb <- c(8.0, 8.3, 6.8, 7.4, 7.6)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Explorer nos vecteurs\nfilms\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dune\"                       \"Oppenheimer\"               \n[3] \"Barbie\"                     \"The Zone of Interest\"      \n[5] \"Killers of the Flower Moon\"\n```\n\n\n:::\n\n```{.r .cell-code}\nlength(films)     # nombre de films\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(notes_imdb)  # note moyenne\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7.62\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Types de donn√©es : attention aux pi√®ges !\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# V√©rifier le type de nos objets\nclass(notes_imdb)    # num√©rique - parfait pour calculer\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"numeric\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(films)         # caract√®re (texte)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"character\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(c(TRUE, FALSE))  # logique\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"logical\"\n```\n\n\n:::\n:::\n\n\n\n\n::: {.callout-warning}\n## Probl√®me fr√©quent en analyse de donn√©es\nParfois, des nombres sont stock√©s comme du texte dans vos donn√©es. R ne peut pas calculer avec du texte !\n:::\n\n---\n\n## Types de donn√©es : attention aux pi√®ges !\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Exemple de coercition automatique (√† surveiller !)\nnotes_mixtes <- c(8.0, 7.5, \"6.8\")  # un chiffre √©crit en texte\nnotes_mixtes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"8\"   \"7.5\" \"6.8\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(notes_mixtes)  # tout devient du texte !\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"character\"\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Impossible de calculer maintenant\n mean(notes_mixtes)  # Ceci produira une erreur !\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] NA\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Solution : convertir les types\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convertir du texte en num√©rique\nnotes_numeriques <- as.numeric(notes_mixtes)\nnotes_numeriques\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8.0 7.5 6.8\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(notes_numeriques)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"numeric\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# Maintenant on peut calculer\nmean(notes_numeriques)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7.433333\n```\n\n\n:::\n:::\n\n\n\n\n::: {.callout-tip}\n## Bonne pratique\nToujours v√©rifier le type de vos variables avec `class()` avant de faire des calculs !\n:::\n\n---\n\n## Notre premier tableau de donn√©es\n\nUn **data frame** = tableau avec lignes et colonnes\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cr√©er notre base de donn√©es de films\ncinema <- data.frame(\n  titre = c(\"Dune\", \"Oppenheimer\", \"Barbie\", \"The Zone of Interest\", \"Killers of the Flower Moon\"),\n  annee = c(2021, 2023, 2023, 2023, 2023),\n  note = c(8.0, 8.3, 6.8, 7.4, 7.6),\n  genre = c(\"Sci-Fi\", \"Biographie\", \"Com√©die\", \"Drame\", \"Drame\")\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Regarder notre tableau\ncinema\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                       titre annee note      genre\n1                       Dune  2021  8.0     Sci-Fi\n2                Oppenheimer  2023  8.3 Biographie\n3                     Barbie  2023  6.8    Com√©die\n4       The Zone of Interest  2023  7.4      Drame\n5 Killers of the Flower Moon  2023  7.6      Drame\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Explorer un data frame\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Informations g√©n√©rales\ndim(cinema)       # dimensions (lignes x colonnes)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5 4\n```\n\n\n:::\n\n```{.r .cell-code}\nnrow(cinema)      # nombre de films\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 5\n```\n\n\n:::\n\n```{.r .cell-code}\nncol(cinema)      # nombre de variables\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n\n```{.r .cell-code}\nnames(cinema)     # noms des colonnes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"titre\" \"annee\" \"note\"  \"genre\"\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Explorer un data frame\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Aper√ßu du contenu\nhead(cinema, 3)   # premiers films\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        titre annee note      genre\n1        Dune  2021  8.0     Sci-Fi\n2 Oppenheimer  2023  8.3 Biographie\n3      Barbie  2023  6.8    Com√©die\n```\n\n\n:::\n\n```{.r .cell-code}\nstr(cinema)       # structure d√©taill√©e\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t5 obs. of  4 variables:\n $ titre: chr  \"Dune\" \"Oppenheimer\" \"Barbie\" \"The Zone of Interest\" ...\n $ annee: num  2021 2023 2023 2023 2023\n $ note : num  8 8.3 6.8 7.4 7.6\n $ genre: chr  \"Sci-Fi\" \"Biographie\" \"Com√©die\" \"Drame\" ...\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Acc√©der aux colonnes\n\n### Avec le symbole `$` (recommand√©)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncinema$titre\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dune\"                       \"Oppenheimer\"               \n[3] \"Barbie\"                     \"The Zone of Interest\"      \n[5] \"Killers of the Flower Moon\"\n```\n\n\n:::\n\n```{.r .cell-code}\ncinema$note\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8.0 8.3 6.8 7.4 7.6\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(cinema$note)  # note moyenne\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7.62\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Acc√©der aux colonnes\n### Avec les crochets `[ ]`\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncinema[, \"titre\"]          # par nom\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dune\"                       \"Oppenheimer\"               \n[3] \"Barbie\"                     \"The Zone of Interest\"      \n[5] \"Killers of the Flower Moon\"\n```\n\n\n:::\n\n```{.r .cell-code}\ncinema[, 1]                # par position\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dune\"                       \"Oppenheimer\"               \n[3] \"Barbie\"                     \"The Zone of Interest\"      \n[5] \"Killers of the Flower Moon\"\n```\n\n\n:::\n\n```{.r .cell-code}\ncinema[, c(\"titre\", \"genre\")] # plusieurs colonnes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                       titre      genre\n1                       Dune     Sci-Fi\n2                Oppenheimer Biographie\n3                     Barbie    Com√©die\n4       The Zone of Interest      Drame\n5 Killers of the Flower Moon      Drame\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Les fonctions : nos outils\n\nUne **fonction** fait une t√¢che : `fonction(argument1, argument2)`\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Fonctions statistiques essentielles\nmean(cinema$note)      # note moyenne\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7.62\n```\n\n\n:::\n\n```{.r .cell-code}\nmedian(cinema$note)    # note m√©diane\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7.6\n```\n\n\n:::\n\n```{.r .cell-code}\nsd(cinema$note)        # √©cart-type\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5761944\n```\n\n\n:::\n\n```{.r .cell-code}\nmin(cinema$note)       # note minimale\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6.8\n```\n\n\n:::\n\n```{.r .cell-code}\nmax(cinema$note)       # note maximale\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8.3\n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Les fonctions : nos outils\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# R√©sum√© complet d'une variable\nsummary(cinema$note)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   6.80    7.40    7.60    7.62    8.00    8.30 \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Compter les occurrences\ntable(cinema$genre)    # combien de films par genre ?\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nBiographie    Com√©die      Drame     Sci-Fi \n         1          1          2          1 \n```\n\n\n:::\n:::\n\n\n\n\n---\n\n## Les packages : √©tendre R {.smaller}\n\n**Les packages sont comme des applications pour R**\n\n- R de base = fonctions essentielles\n- Packages = fonctions sp√©cialis√©es cr√©√©es par la communaut√©\n- Plus de 21,000 packages disponibles sur CRAN\n- Chaque package r√©sout des probl√®mes sp√©cifiques\n\n::: {.callout-tip}\n## Analogie\nR de base = t√©l√©phone vide  \nPackages = applications qu'on t√©l√©charge\n:::\n\n---\n\n## Le Tidyverse : votre bo√Æte √† outils {.smaller}\n\n**Collection de packages pour l'analyse de donn√©es moderne**\n\n::: {.columns}\n::: {.column width=\"50%\"}\n**Packages principaux :**\n\n- `readr` : importer des donn√©es\n- `dplyr` : manipuler des donn√©es\n- `ggplot2` : cr√©er des graphiques\n- `tidyr` : nettoyer des donn√©es\n:::\n\n::: {.column width=\"50%\"}\n**Avantages :**\n\n- Syntaxe coh√©rente et intuitive\n- Tr√®s utilis√© en sciences sociales\n- Documentation excellente\n- S'installe en un seul package !\n:::\n:::\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Installer le Tidyverse (contient plusieurs packages)\ninstall.packages(\"tidyverse\")\n```\n:::\n\n\n\n\n---\n\n## Installation vs Chargement {.smaller}\n\n::: {.callout-important}\n## Diff√©rence cruciale\n- `install.packages(\"nom\")` : t√©l√©charger le package (1 seule fois)\n- `library(nom)` : activer le package (√† chaque session R)\n:::\n\n**Installer des packages**\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Exemples d'installation (√† faire une fois)\ninstall.packages(\"tidyverse\")\ninstall.packages(\"readxl\")\ninstall.packages(\"janitor\")\n```\n:::\n\n\n\n\n::: {.fragment}\n**Charger des packages**\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# √Ä faire au d√©but de chaque script\nlibrary(tidyverse)\nlibrary(readxl)\n```\n:::\n\n\n\n:::\n\n::: {.callout-tip}\n## Bonne pratique\nMettez toujours vos `library()` au d√©but de votre script\n:::\n\n---\n\n\n## Comprendre l'organisation de votre ordinateur {.smaller}\n\n::: {.callout-important}\n## Votre ordinateur = une grande biblioth√®que\nChaque fichier a une **adresse pr√©cise** pour le retrouver !\n:::\n\n**Exemple d'organisation :**\n```\nüìÅ Mon ordinateur\n  üìÅ Documents\n    üìÅ Universit√©\n      üìÅ Session_Hiver2024\n        üìÅ Cours_R\n          üìÑ donnees.csv\n          üìÑ mon_script.R\n```\n\n**L'adresse compl√®te (chemin) :**\n\n- Windows : `C:/Documents/Universit√©/Session_Hiver2024/Cours_R/`\n- Mac : `/Users/votrenom/Documents/Universit√©/Session_Hiver2024/Cours_R/`\n\n---\n\n## O√π travaille R en ce moment ? {.smaller}\n\n::: {.callout-tip}\n## √Ä tester maintenant !\n:::\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# O√π suis-je actuellement ?\ngetwd()  # \"get working directory\" = obtenir le dossier de travail\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"/home/etienne_prx/Dropbox/travail/enseignements/R_intro_fss\"\n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Qu'est-ce qu'il y a dans ce dossier ?\nlist.files()  # lister tous les fichiers\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"_freeze\"          \"_quarto.yml\"      \"ancien.qmd\"       \"custom.scss\"     \n [5] \"data\"             \"docs\"             \"exercices.qmd\"    \"images\"          \n [9] \"index.qmd\"        \"README.md\"        \"slides_files\"     \"slides.qmd\"      \n[13] \"slides.rmarkdown\"\n```\n\n\n:::\n:::\n\n\n\n:::\n\n**R travaille toujours dans UN dossier √† la fois !**  \nC'est son \"bureau\" o√π il cherche vos fichiers par d√©faut.\n\n---\n\n## Bien organiser son projet R {.smaller}\n\n::: {.callout-note}\n## Structure recommand√©e\n```\nüìÅ Mon_Projet_R/\n  üìÅ code/              # tous vos scripts R\n    üìÑ analyse.R\n    üìÑ graphiques.R\n  üìÅ data/              # tous vos fichiers CSV, Excel\n    üìÑ titanic.csv\n    üìÑ sondage.xlsx  \n  üìÅ graphs/            # vos graphiques export√©s\n    üìÑ histogram_ages.png\n  üìÅ outputs/           # vos r√©sultats et rapports\n    üìÑ resultats.csv\n```\n:::\n\n**Pourquoi c'est important ?**\n\n- Tout est au m√™me endroit\n- Facile de retrouver ses fichiers\n- On peut partager le dossier complet √† quelqu'un\n\n---\n\n## Changer le dossier de travail de R {.smaller}\n\n**M√©thode 1 : Avec du code**\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Changer vers mon dossier de projet\nsetwd(\"C:/Documents/Universit√©/Mon_Projet_R\")   # Windows\nsetwd(\"/Users/nom/Documents/Mon_Projet_R\")      # Mac\n\n# V√©rifier que √ßa a march√©\ngetwd()\n```\n:::\n\n\n\n\n::: {.fragment}\n**M√©thode 2 : Menu RStudio**\n`Session` ‚Üí `Set Working Directory` ‚Üí `Choose Directory...`\n:::\n\n::: {.callout-warning}\n**Attention :** Il faut refaire `setwd()` √† chaque fois qu'on ouvre RStudio !\n:::\n\n---\n\n## Lien entre RStudio et votre dossier {.smaller}\n\n::: {.columns}\n::: {.column width=\"50%\"}\n**Dans RStudio :**\n\n- **Console** : `getwd()` montre o√π on est\n- **Panneau Files** (bas-droite) : navigue dans les dossiers\n- **Environment** : vos objets R en m√©moire\n\n:::\n\n::: {.column width=\"50%\"}\n**Sur votre ordinateur :**\n\n- **Explorateur de fichiers** (Windows) ou **Finder** (Mac)\n- M√™me structure de dossiers\n- Les fichiers existent vraiment !\n\n:::\n:::\n\n::: {.callout-tip}\n## Astuce\nLe panneau **Files** de RStudio montre le m√™me contenu que `list.files()` !\n:::\n\n---\n\n## Maintenant on peut charger nos donn√©es ! {.smaller}\n\n::: {.callout-success}\n**M√©thode propre**\n\n1. Cr√©ez un dossier pour votre projet\n2. Mettez-y vos fichiers de donn√©es  \n3. Utilisez `setwd()` pour y aller\n4. Maintenant R trouve vos fichiers !\n:::\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# √âtapes pratiques :\nsetwd(\"C:/Mon_Projet_R\")              # Remplacer par cotre propre chemin\nlist.files()                          # voir mes dossiers : code, data, graphs...\ndonnees <- read.csv(\"data/titanic.csv\")  # charger depuis le dossier data\n```\n:::\n\n\n\n\n**Prochaine slide :** On va charger les vraies donn√©es du Titanic !\n\n\n---\n\n## Charger de vraies donn√©es {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\nUtilisons les donn√©es **Titanic** pour pratiquer !\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Charger les donn√©es Titanic\ntitanic <- read.csv(\"data/titanic.csv\")\n\n# Premier coup d'≈ìil\nhead(titanic, 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Survived Pclass                                               Name    Sex Age\n1        0      3                             Mr. Owen Harris Braund   male  22\n2        1      1 Mrs. John Bradley (Florence Briggs Thayer) Cumings female  38\n3        1      3                              Miss. Laina Heikkinen female  26\n  Siblings.Spouses.Aboard Parents.Children.Aboard    Fare\n1                       1                       0  7.2500\n2                       1                       0 71.2833\n3                       0                       0  7.9250\n```\n\n\n:::\n:::\n\n\n\n\n::: {.callout-tip}\n## T√©l√©chargez les donn√©es\nCliquez sur ce [lien](https://web.stanford.edu/class/archive/cs/cs109/cs109.1166/stuff/titanic.csv) \n\nAttention de bien sp√©cifier votre chemin d'acc√®s!\n:::\n:::\n\n---\n\n## Explorer la structure des donn√©es {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**Toujours commencer par comprendre nos donn√©es**\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Informations de base\ndim(titanic)          # dimensions (lignes x colonnes)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 887   8\n```\n\n\n:::\n\n```{.r .cell-code}\nnames(titanic)        # noms des colonnes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Survived\"                \"Pclass\"                 \n[3] \"Name\"                    \"Sex\"                    \n[5] \"Age\"                     \"Siblings.Spouses.Aboard\"\n[7] \"Parents.Children.Aboard\" \"Fare\"                   \n```\n\n\n:::\n\n```{.r .cell-code}\nnrow(titanic)         # nombre de lignes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 887\n```\n\n\n:::\n\n```{.r .cell-code}\nncol(titanic)         # nombre de colonnes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8\n```\n\n\n:::\n:::\n\n\n\n:::\n\n---\n\n## Examiner la structure d√©taill√©e {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Structure compl√®te des donn√©es\nstr(titanic)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t887 obs. of  8 variables:\n $ Survived               : int  0 1 1 1 0 0 0 0 1 1 ...\n $ Pclass                 : int  3 1 3 1 3 3 1 3 3 2 ...\n $ Name                   : chr  \"Mr. Owen Harris Braund\" \"Mrs. John Bradley (Florence Briggs Thayer) Cumings\" \"Miss. Laina Heikkinen\" \"Mrs. Jacques Heath (Lily May Peel) Futrelle\" ...\n $ Sex                    : chr  \"male\" \"female\" \"female\" \"female\" ...\n $ Age                    : num  22 38 26 35 35 27 54 2 27 14 ...\n $ Siblings.Spouses.Aboard: int  1 1 0 1 0 0 0 3 0 1 ...\n $ Parents.Children.Aboard: int  0 0 0 0 0 0 0 1 2 0 ...\n $ Fare                   : num  7.25 71.28 7.92 53.1 8.05 ...\n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Aper√ßu moderne avec glimpse (dplyr)\nlibrary(dplyr)\nglimpse(titanic)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 887\nColumns: 8\n$ Survived                <int> 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 1‚Ä¶\n$ Pclass                  <int> 3, 1, 3, 1, 3, 3, 1, 3, 3, 2, 3, 1, 3, 3, 3, 2‚Ä¶\n$ Name                    <chr> \"Mr. Owen Harris Braund\", \"Mrs. John Bradley (‚Ä¶\n$ Sex                     <chr> \"male\", \"female\", \"female\", \"female\", \"male\", ‚Ä¶\n$ Age                     <dbl> 22, 38, 26, 35, 35, 27, 54, 2, 27, 14, 4, 58, ‚Ä¶\n$ Siblings.Spouses.Aboard <int> 1, 1, 0, 1, 0, 0, 0, 3, 0, 1, 1, 0, 0, 1, 0, 0‚Ä¶\n$ Parents.Children.Aboard <int> 0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 1, 0, 0, 5, 0, 0‚Ä¶\n$ Fare                    <dbl> 7.2500, 71.2833, 7.9250, 53.1000, 8.0500, 8.45‚Ä¶\n```\n\n\n:::\n:::\n\n\n\n:::\n\n**Ces fonctions montrent :** types de variables, premi√®res valeurs, dimensions\n:::\n\n---\n\n## R√©sum√© statistique des variables {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# R√©sum√© statistique de toutes les variables\nsummary(titanic)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    Survived          Pclass          Name               Sex           \n Min.   :0.0000   Min.   :1.000   Length:887         Length:887        \n 1st Qu.:0.0000   1st Qu.:2.000   Class :character   Class :character  \n Median :0.0000   Median :3.000   Mode  :character   Mode  :character  \n Mean   :0.3856   Mean   :2.306                                        \n 3rd Qu.:1.0000   3rd Qu.:3.000                                        \n Max.   :1.0000   Max.   :3.000                                        \n      Age        Siblings.Spouses.Aboard Parents.Children.Aboard\n Min.   : 0.42   Min.   :0.0000          Min.   :0.0000         \n 1st Qu.:20.25   1st Qu.:0.0000          1st Qu.:0.0000         \n Median :28.00   Median :0.0000          Median :0.0000         \n Mean   :29.47   Mean   :0.5254          Mean   :0.3833         \n 3rd Qu.:38.00   3rd Qu.:1.0000          3rd Qu.:0.0000         \n Max.   :80.00   Max.   :8.0000          Max.   :6.0000         \n      Fare        \n Min.   :  0.000  \n 1st Qu.:  7.925  \n Median : 14.454  \n Mean   : 32.305  \n 3rd Qu.: 31.137  \n Max.   :512.329  \n```\n\n\n:::\n:::\n\n\n\n\n**Ce r√©sum√© nous r√©v√®le :**\nMoyennes, m√©dianes, quartiles pour les variables num√©riques | Fr√©quences pour les variables cat√©gorielles | Pr√©sence de valeurs manquantes (NA's)\n:::\n\n---\n\n## G√©rer les valeurs manquantes {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Compter les valeurs manquantes par colonne\ncolSums(is.na(titanic))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n               Survived                  Pclass                    Name \n                      0                       0                       0 \n                    Sex                     Age Siblings.Spouses.Aboard \n                      0                       0                       0 \nParents.Children.Aboard                    Fare \n                      0                       0 \n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Compter les NA dans une colonne sp√©cifique\nsum(is.na(titanic$Age))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n\n```{.r .cell-code}\n# Voir quels passagers ont un √¢ge manquant\nhead(titanic[is.na(titanic$Age), ])\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] Survived                Pclass                  Name                   \n[4] Sex                     Age                     Siblings.Spouses.Aboard\n[7] Parents.Children.Aboard Fare                   \n<0 rows> (or 0-length row.names)\n```\n\n\n:::\n:::\n\n\n\n:::\n\n::: {.callout-note}\n**na.rm = TRUE** dans les fonctions statistiques ignore les valeurs manquantes\n:::\n:::\n\n---\n\n## Analyse des variables individuelles {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Variables cat√©gorielles : compter les occurrences\ntable(titanic$Survived)    # survivants\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  0   1 \n545 342 \n```\n\n\n:::\n\n```{.r .cell-code}\ntable(titanic$Pclass)      # classes\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n  1   2   3 \n216 184 487 \n```\n\n\n:::\n\n```{.r .cell-code}\ntable(titanic$Sex)         # sexe\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nfemale   male \n   314    573 \n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# En pourcentages\nprop.table(table(titanic$Survived)) * 100\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n       0        1 \n61.44307 38.55693 \n```\n\n\n:::\n:::\n\n\n\n:::\n:::\n\n---\n\n## Analyse des variables num√©riques {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Statistiques sur l'√¢ge\nmean(titanic$Age, na.rm = TRUE)     # √¢ge moyen\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 29.47144\n```\n\n\n:::\n\n```{.r .cell-code}\nmedian(titanic$Age, na.rm = TRUE)   # √¢ge m√©dian\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 28\n```\n\n\n:::\n\n```{.r .cell-code}\nsd(titanic$Age, na.rm = TRUE)       # √©cart-type\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 14.12191\n```\n\n\n:::\n\n```{.r .cell-code}\nrange(titanic$Age, na.rm = TRUE)    # min et max\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  0.42 80.00\n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Statistiques sur le prix du billet\nsummary(titanic$Fare)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n  0.000   7.925  14.454  32.305  31.137 512.329 \n```\n\n\n:::\n:::\n\n\n\n:::\n:::\n\n---\n\n## Analyse crois√©e de variables {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Croiser deux variables cat√©gorielles\ntable(titanic$Pclass, titanic$Survived)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   \n      0   1\n  1  80 136\n  2  97  87\n  3 368 119\n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Ajouter les noms de lignes/colonnes pour clart√©\ntable(Classe = titanic$Pclass, Surv√©cu = titanic$Survived)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      Surv√©cu\nClasse   0   1\n     1  80 136\n     2  97  87\n     3 368 119\n```\n\n\n:::\n:::\n\n\n\n:::\n\n**Ce tableau montre :** r√©partition des survivants selon la classe\n:::\n\n---\n\n## Manipulation des donn√©es avec dplyr {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**Le package dplyr facilite la manipulation de donn√©es**\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Charger dplyr (ou tidyverse)\nlibrary(dplyr)\n```\n:::\n\n\n\n\n**Fonctions principales :**\n\n- `select()` : s√©lectionner des colonnes\n- `filter()` : filtrer des lignes\n- `mutate()` : cr√©er/modifier des variables\n- `group_by()` + `summarise()` : grouper et r√©sumer\n:::\n\n---\n\n## S√©lectionner des colonnes {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Garder seulement certaines colonnes\ntitanic_simple <- titanic %>%\n  select(Survived, Pclass, Sex, Age, Fare)\n\nhead(titanic_simple, 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Survived Pclass    Sex Age    Fare\n1        0      3   male  22  7.2500\n2        1      1 female  38 71.2833\n3        1      3 female  26  7.9250\n```\n\n\n:::\n:::\n\n\n\n\n:::\n\n---\n\n## Filtrer des lignes {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Filtrer les passagers de premi√®re classe\npremiere_classe <- titanic %>%\n  filter(Pclass == 1)\n\nnrow(premiere_classe)  # combien de passagers ?\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 216\n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Filtres multiples\nadultes_survie <- titanic %>%\n  filter(Age >= 18, Survived == 1)\n\nnrow(adultes_survie)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 277\n```\n\n\n:::\n:::\n\n\n\n:::\n\n**Op√©rateurs de filtre :** `==`, `!=`, `>`, `<`, `>=`, `<=`, `%in%`\n:::\n\n---\n\n## Cr√©er de nouvelles variables {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Cr√©er une variable cat√©gorielle √¢ge\ntitanic <- titanic %>%\n  mutate(groupe_age = ifelse(Age < 18, \"Enfant\", \"Adulte\"))\n\ntable(titanic$groupe_age)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nAdulte Enfant \n   757    130 \n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Cr√©er plusieurs variables en une fois\ntitanic <- titanic %>%\n  mutate(\n    prix_eleve = ifelse(Fare > 50, \"Cher\", \"Abordable\"),\n    taille_famille = Siblings.Spouses.Aboard + Parents.Children.Aboard + 1  # inclure le passager lui-m√™me\n  )\n\n# Visualiser les premi√®res lignes des nouvelles variables\ntitanic_newvars <- titanic %>%\n  select(groupe_age, prix_eleve, taille_famille)\n\nhead(titanic_newvars)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  groupe_age prix_eleve taille_famille\n1     Adulte  Abordable              2\n2     Adulte       Cher              2\n3     Adulte  Abordable              1\n4     Adulte       Cher              2\n5     Adulte  Abordable              1\n6     Adulte  Abordable              1\n```\n\n\n:::\n:::\n\n\n\n:::\n:::\n\n---\n\n## Nettoyage de donn√©es avanc√© {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Strat√©gie pour g√©rer les valeurs manquantes dans la variable Age\n# √âtape 1: Remplacer les NA par la m√©diane des √¢ges existants\ntitanic <- titanic %>%\n  mutate(Age = ifelse(is.na(Age),                    # SI l'√¢ge est manquant (NA)\n                      median(Age, na.rm = TRUE),      # ALORS utiliser la m√©diane\n                      Age))                           # SINON garder l'√¢ge original\n\n# √âtape 2: V√©rifier que le remplacement a fonctionn√©\nsum(is.na(titanic$Age))  # Compter combien de NA restent (devrait √™tre 0)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0\n```\n\n\n:::\n:::\n\n\n\n\n::: {.fragment}\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Standardiser les noms de colonnes (optionnel)\ntitanic <- titanic %>%\n  rename(\n    survie = Survived,\n    classe = Pclass,\n    sexe = Sex\n  )\n```\n:::\n\n\n\n:::\n:::\n\n---\n\n## Grouper et r√©sumer {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Statistiques par groupe\ntitanic %>%\n  group_by(classe) %>%\n  summarise(\n    nb_passagers = n(),\n    nb_survivants = sum(survie),\n    taux_survie = round(mean(survie) * 100, 1),\n    age_moyen = round(mean(Age, na.rm = TRUE), 1)\n  )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 √ó 5\n  classe nb_passagers nb_survivants taux_survie age_moyen\n   <int>        <int>         <int>       <dbl>     <dbl>\n1      1          216           136        63        38.8\n2      2          184            87        47.3      29.9\n3      3          487           119        24.4      25.2\n```\n\n\n:::\n:::\n\n\n\n\n**La fonction `n()` compte le nombre de lignes dans chaque groupe**\n:::\n\n---\n\n## Groupements multiples {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Analyser par classe ET sexe\nresume_complet <- titanic %>%\n  group_by(classe, sexe) %>%\n  summarise(\n    nb_passagers = n(),\n    taux_survie = round(mean(survie) * 100, 1)\n  )\n\nresume_complet\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 √ó 4\n# Groups:   classe [3]\n  classe sexe   nb_passagers taux_survie\n   <int> <chr>         <int>       <dbl>\n1      1 female           94        96.8\n2      1 male            122        36.9\n3      2 female           76        92.1\n4      2 male            108        15.7\n5      3 female          144        50  \n6      3 male            343        13.7\n```\n\n\n:::\n:::\n\n\n\n:::\n\n---\n\n## Graphiques simples : graphiques en barres {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**Commen√ßons par le plus simple : compter des cat√©gories**\n\n\n\n\n::: {.cell layout-align=\"center\" code-copy='true'}\n\n```{.r .cell-code}\nlibrary(ggplot2)\n\n# Nombre de passagers par classe\nggplot(titanic, aes(x = factor(classe))) +\n  geom_bar()\n```\n\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-50-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n:::\n\n---\n\n## Graphiques simples : graphiques en barres {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**√âl√©ments de base :**\n\n- `ggplot()` : initialise le graphique avec les donn√©es\n- `aes()` : sp√©cifie quelles variables utiliser\n- `geom_bar()` : type de graphique (barres)\n:::\n\n---\n\n## Ajouter des couleurs et labels {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell layout-align=\"center\" code-copy='true'}\n\n```{.r .cell-code}\n# M√™me graphique, mais plus joli\nggplot(titanic, aes(x = factor(classe))) +\n  geom_bar(fill = \"steelblue\", color = \"white\") +\n  labs(\n    title = \"R√©partition des passagers par classe\",\n    x = \"Classe\", \n    y = \"Nombre de passagers\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-51-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n:::\n\n---\n\n## Ajouter des couleurs et labels {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**Nouveaux √©l√©ments :**\n\n- `fill` : couleur de remplissage des barres\n- `labs()` : ajouter titres et √©tiquettes\n- `theme_minimal()` : style √©pur√©\n:::\n\n---\n\n## Graphiques empil√©s : deux variables {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell layout-align=\"center\" code-copy='true'}\n\n```{.r .cell-code}\n# Survivants par classe (barres empil√©es)\nggplot(titanic, aes(x = factor(classe), fill = factor(survie))) +\n  geom_bar() +\n  labs(\n    title = \"Survivants par classe sur le Titanic\",\n    x = \"Classe\", \n    y = \"Nombre de passagers\",\n    fill = \"Surv√©cu\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-52-1.png){fig-align='center' width=960}\n:::\n\n```{.r .cell-code}\n## **Nouvelle technique :** `fill = factor(survie)` dans `aes()` cr√©e des couleurs automatiques selon la survie\n```\n:::\n\n\n\n\n:::\n\n---\n\n## Graphiques en proportions {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**`position = \"fill\"`** transforme en proportions (0 √† 1) pour comparer les taux\n\n\n\n\n::: {.cell layout-align=\"center\" code-copy='true'}\n\n```{.r .cell-code}\n# Proportions plut√¥t que nombres absolus\nggplot(titanic, aes(x = factor(classe), fill = factor(survie))) +\n  geom_bar(position = \"fill\") +\n  labs(\n    title = \"Taux de survie par classe\",\n    x = \"Classe\", \n    y = \"Proportion\",\n    fill = \"Surv√©cu\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-53-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n:::\n\n---\n\n## Histogrammes : distribution d'une variable {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell layout-align=\"center\" code-copy='true'}\n\n```{.r .cell-code}\n# Distribution des √¢ges\nggplot(titanic, aes(x = Age)) +\n  geom_histogram(bins = 20, fill = \"lightblue\", color = \"white\", alpha = 0.7) +\n  labs(\n    title = \"Distribution des √¢ges sur le Titanic\",\n    x = \"√Çge\", \n    y = \"Nombre de passagers\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-54-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n:::\n\n---\n\n## Histogrammes : distribution d'une variable {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**Nouveaux √©l√©ments :**\n\n- `geom_histogram()` : pour variables num√©riques continues\n- `bins = 20` : nombre de barres\n- `alpha = 0.7` : transparence (0 = invisible, 1 = opaque)\n:::\n\n---\n\n## Nuages de points {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**`geom_point()`** cr√©e un nuage de points pour explorer les relations entre variables num√©riques\n\n\n\n\n::: {.cell layout-align=\"center\" code-copy='true'}\n\n```{.r .cell-code}\n# Relation √¢ge-prix du billet\nggplot(titanic, aes(x = Age, y = Fare)) +\n  geom_point(alpha = 0.6) +\n  labs(\n    title = \"√Çge vs Prix du billet\",\n    x = \"√Çge\", \n    y = \"Prix du billet\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-55-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n:::\n\n---\n\n## Nuages de points avec couleurs {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**La couleur r√©v√®le des patterns :** les survivants avaient-ils des billets plus chers ?\n\n\n\n\n::: {.cell layout-align=\"center\" code-copy='true'}\n\n```{.r .cell-code}\n# Ajouter la survie comme couleur\nggplot(titanic, aes(x = Age, y = Fare, color = factor(survie))) +\n  geom_point(alpha = 0.6) +\n  labs(\n    title = \"√Çge vs Prix du billet selon la survie\",\n    x = \"√Çge\", \n    y = \"Prix du billet\",\n    color = \"Surv√©cu\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-56-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n\n\n:::\n\n---\n\n## Sauvegarder notre travail {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Sauvegarder le dernier graphique\nggsave(\"age_prix_survie.png\", width = 10, height = 6)\n\n# Sauvegarder des donn√©es nettoy√©es\nwrite.csv(titanic, \"titanic_nettoye.csv\", row.names = FALSE)\n\n# Sauvegarder nos r√©sultats d'analyse\nwrite.csv(resume_complet, \"analyse_survie_classe_sexe.csv\", row.names = FALSE)\n```\n:::\n\n\n\n\n**Toujours sauvegarder :** scripts, donn√©es nettoy√©es, graphiques, r√©sultats\n:::\n\n---\n\n## Messages d'erreur : pas de panique ! {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n**Erreurs courantes et solutions :**\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Erreur : objet non trouv√©\nmean(donnees$age)\n# Error: object 'donnees' not found\n# ‚Üí V√©rifier le nom de l'objet\n\n# Erreur : colonne inexistante  \ntitanic$ages  # au lieu de Age\n# ‚Üí Utiliser names(titanic) pour voir les vraies colonnes\n\n# Erreur : parenth√®se manquante\nmean(titanic$Age\n# ‚Üí V√©rifier que toutes les parenth√®ses sont ferm√©es\n```\n:::\n\n\n\n\n**R√©flexes :** lire le message, v√©rifier l'orthographe, tester ligne par ligne\n:::\n\n---\n\n## Bonnes pratiques pour l'analyse {.smaller background-color=\"#4A90A4\"}\n\n::: {style=\"color: #333;\"}\n\n::: {.callout-tip}\n## Workflow recommand√©\n\n1. **Explorer d'abord :** `str()`, `summary()`, `glimpse()`\n2. **Nettoyer ensuite :** g√©rer les NA, corriger les types\n3. **Analyser pas √† pas :** une variable, puis des croisements\n4. **Visualiser pour comprendre :** graphiques simples puis complexes\n5. **Documenter et sauvegarder :** commenter le code, sauvegarder les r√©sultats\n:::\n\n\n\n\n::: {.cell code-copy='true'}\n\n```{.r .cell-code}\n# Exemple de code bien structur√©\n# 1. Chargement et exploration\ntitanic <- read.csv(\"data/titanic.csv\")\nstr(titanic)\n\n# 2. Nettoyage\ntitanic <- titanic %>% \n  mutate(Age = ifelse(is.na(Age), median(Age, na.rm = TRUE), Age))\n\n# 3. Analyse et visualisation\n# ... votre analyse ...\n```\n:::\n\n\n\n:::\n\n---\n\n## Ce qu'on a appris aujourd'hui {.smaller}\n\n::: {.callout-note}\n## R√©capitulatif\n\n‚úÖ Interface RStudio et console  \n‚úÖ Objets, vecteurs et data frames  \n‚úÖ Types de donn√©es et fonctions  \n‚úÖ Import et exploration de donn√©es  \n‚úÖ Analyse descriptive (moyennes, tableaux)  \n‚úÖ Premiers graphiques avec ggplot2  \n‚úÖ Manipulation avec dplyr (filter, select, group_by)\n:::\n\n**Vous pouvez maintenant :**\n\n- Charger des donn√©es\n- Les explorer et les r√©sumer\n- Cr√©er des graphiques de base\n- Faire des analyses descriptives simples\n\n---\n\n## Ressources pour continuer {.smaller}\n\n**Documentation et aide :**\n\n- `?fonction` dans R (ex: `?mean`)\n- [R Documentation](https://www.rdocumentation.org/)\n- [RStudio Cheatsheets](https://posit.co/resources/cheatsheets/)\n\n**Apprentissage :**\n\n- [swirl](https://swirlstats.com/) - apprendre R dans R\n- [R for Data Science](https://r4ds.hadley.nz/) (gratuit en ligne)\n- ChatGPT pour d√©boguer vos erreurs !\n\n**Communaut√© :**\n\n- [Stack Overflow](https://stackoverflow.com/questions/tagged/r)\n- [RStudio Community](https://community.rstudio.com/)\n\n---\n\n## Questions ? {.smaller}\n\n::: {.callout-tip appearance=\"simple\"}\n## Merci pour votre attention !\n\n**Contact :** etienne.proulx.2@ulaval.ca\n\n**Tous les codes sont copiables depuis cette pr√©sentation**\n:::\n\n\n**Prochaines √©tapes :** Continuez avec vos propres donn√©es et n'h√©sitez pas √† exp√©rimenter !",
    "supporting": [
      "slides_files/figure-revealjs"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}